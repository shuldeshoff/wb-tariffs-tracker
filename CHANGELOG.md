# Changelog

Все значимые изменения в проекте будут документированы в этом файле.

## [1.0.0] - 2025-10-22

### Добавлено

#### Инфраструктура
- Настройка Docker Compose с PostgreSQL и Node.js
- Конфигурация TypeScript с поддержкой ES Modules
- Система логирования с использованием log4js
- Graceful shutdown для корректного завершения приложения

#### База данных
- Миграция для создания таблицы `tariffs`
- Уникальные индексы для предотвращения дубликатов
- Индексы для оптимизации запросов по дате и коэффициенту

#### Интеграция с Wildberries API
- Сервис для получения тарифов коробов
- Retry-логика с 3 попытками при сбоях
- Обработка ошибок и логирование запросов
- Парсинг коэффициентов из строковых выражений

#### Работа с базой данных
- Repository для работы с таблицей тарифов
- UPSERT операции для обновления данных текущего дня
- Методы получения актуальных тарифов с сортировкой
- Метод очистки старых данных

#### Интеграция с Google Sheets
- Аутентификация через Service Account
- Обновление произвольного количества таблиц
- Запись данных на лист `stocks_coefs`
- Автоматическая сортировка по коэффициенту
- Обработка ошибок доступа к таблицам

#### Планировщик задач
- Ежечасное получение данных от WB API (настраиваемо)
- Регулярное обновление Google Sheets (каждые 30 минут по умолчанию)
- Выполнение задач при запуске приложения
- Мониторинг и логирование выполнения задач

#### Документация
- Подробный README с инструкциями по установке и запуску
- Описание всех переменных окружения
- Руководство по настройке Google Service Account
- Примеры работы с миграциями
- Описание структуры БД

### Конфигурация
- Переменные окружения для всех внешних сервисов
- Настраиваемые cron-расписания
- Уровни логирования
- Параметры подключения к БД

### Типы
- TypeScript интерфейсы для WB API responses
- Типы для записей БД
- Типы для данных Google Sheets

### Тестирование
- Структура готова для добавления тестов

---

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
версионирование следует [Semantic Versioning](https://semver.org/lang/ru/).

